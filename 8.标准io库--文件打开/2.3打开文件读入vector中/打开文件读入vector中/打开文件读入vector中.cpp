/*编写函数打开文件进行输入，将文件内容编入string类型的vector中 每一行存储为该
vector对象的一个元素*/
#include<iostream>
#include<fstream>
#include<string>
#include<vector>
using namespace std;

int fileToVector(string fileName,vector<string>& svec)

{    //创建ifstream对象inFile并绑定到由形参fileName指定的文件
	ifstream inFile(fileName.c_str());
	if(!inFile)//打开文件失败
		return 1;


	//将文件内容读入到string类型的vector容器
	//每一行存储为该容器对象的一个元素
	string s;
	while(getline(inFile,s))
		svec.push_back(s);
	inFile.close();//关闭文件
	if(inFile.eof())//遇到文件结束符
		return 4;
	if(inFile.bad())//发生系统级故障
		return 2;
	if(inFile.fail())//读入数据失败
		return 3;
}
int main()
{	vector<string> svec;
    string fileName,s;

	//读入文件名
	cout<<"enter filename:"<<endl;
	cin>>fileName;

    //处理文件
	switch(fileToVector(fileName,svec))
	{
	case 1:
		cout<<"error:can not open file:"
			<<fileName<<endl;
		return -1;
	case 2:
		cout<<"error:system failure"<<endl;
		return -1;
	case 3:
		cout<<"error:read failure"<<endl;
		return -1;
	}

	//输出vector对象进行检验
	cout<<"vector:"<<endl;
	for(vector<string>::iterator iter = svec.begin();
    iter != svec.end();++iter)
	cout<<*iter<<endl;
	system("pause");
	return 0;
}
